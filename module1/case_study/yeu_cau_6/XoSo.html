<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Xổ Số</title>
</head>
<body>
<h1>Xổ Số</h1>
<p id="show"></p><br><br>
<p id="showResult"></p><br>

<button onclick="buyTicket()">Mua vé</button>
<button onclick="showResult()">Xem kết quả</button>

</body>
<script>

    class Machine {
        constructor(ticket) {
            this.ticket = ticket;
        }

        pickNumber() {
            this.ticket.setNumber1(parseInt(prompt("Bạn hãy nhập số thứ 1:")))
            this.ticket.setNumber2(parseInt(prompt("Bạn hãy nhập số thứ 2:")))
            this.ticket.setNumber3(parseInt(prompt("Bạn hãy nhập số thứ 3:")))
            this.ticket.setNumber4(parseInt(prompt("Bạn hãy nhập số thứ 4:")))
            this.ticket.setNumber5(parseInt(prompt("Bạn hãy nhập số thứ 5:")))
            this.ticket.setNumber6(parseInt(prompt("Bạn hãy nhập số thứ 6:")))
        }

        randomNumber() {
            this.ticket.setNumber1(Math.round(Math.random() * 99))
            this.ticket.setNumber2(Math.round(Math.random() * 99))
            this.ticket.setNumber3(Math.round(Math.random() * 99))
            this.ticket.setNumber4(Math.round(Math.random() * 99))
            this.ticket.setNumber5(Math.round(Math.random() * 99))
            this.ticket.setNumber6(Math.round(Math.random() * 99))

        }
    }

    class Ticket {
        constructor(number1, number2, number3, number4, number5, number6) {
            this.number1 = number1;
            this.number2 = number2;
            this.number3 = number3;
            this.number4 = number4;
            this.number5 = number5;
            this.number6 = number6;
        }

        setNumber1(number1) {
            this.number1 = number1;
        }

        getNumber1() {
            return this.number1;
        }

        setNumber2(number2) {
            this.number2 = number2;
        }

        getNumber2() {
            return this.number2;
        }

        setNumber3(number3) {
            this.number3 = number3;
        }

        getNumber3() {
            return this.number3;
        }

        setNumber4(number4) {
            this.number4 = number4;
        }

        getNumber4() {
            return this.number4;
        }

        setNumber5(number5) {
            this.number5 = number5;
        }

        getNumber5() {
            return this.number5;
        }

        setNumber6(number6) {
            this.number6 = number6;
        }

        getNumber6() {
            return this.number6;
        }

    }

    let ticket = new Ticket();
    let machine = new Machine(ticket);
    let number;
    let arrTicket = [];
    let resultArr = []

    function buyTicket() {
        if (arrTicket.length < 4) {
            number = parseInt(prompt("Bạn có 2 lựa chọn:\n" +
                "1.Bạn muốn tự chọn số.\n" +
                "2.Hệ thống tự random."));
            if (number == 1) {
                showPickNumber();
            }
            if (number == 2) {
                showRandomNumber(ticket);
            }
        } else {
            alert("Bạn chỉ được mua tối đa 4 vé")
        }
    }

    function showPickNumber() {
        machine.pickNumber();
        let ticketNew = new Ticket(ticket.getNumber1(), ticket.getNumber2(), ticket.getNumber3(), ticket.getNumber4(), ticket.getNumber5(), ticket.getNumber6())
        arrTicket.push(ticketNew);
        let show = '<input id="number1" value="' + machine.ticket.getNumber1() + '">\n' +
            '<input id="number2" value="' + machine.ticket.getNumber2() + '">\n' +
            '<input id="number3" value="' + machine.ticket.getNumber3() + '">\n' +
            '<input id="number4" value="' + machine.ticket.getNumber4() + '">\n' +
            '<input id="number5" value="' + machine.ticket.getNumber5() + '">\n' +
            '<input id="number6" value="' + machine.ticket.getNumber6() + '">' +
            '<br>'
        document.getElementById("show").innerHTML += show;
    }

    function showRandomNumber() {
        machine.randomNumber();
        let ticketNew = new Ticket(ticket.getNumber1(), ticket.getNumber2(), ticket.getNumber3(), ticket.getNumber4(), ticket.getNumber5(), ticket.getNumber6())
        arrTicket.push(ticketNew);
        let show = '<input id="number1" value="' + machine.ticket.getNumber1() + '">\n' +
            '<input id="number2" value="' + machine.ticket.getNumber2() + '">\n' +
            '<input id="number3" value="' + machine.ticket.getNumber3() + '">\n' +
            '<input id="number4" value="' + machine.ticket.getNumber4() + '">\n' +
            '<input id="number5" value="' + machine.ticket.getNumber5() + '">\n' +
            '<input id="number6" value="' + machine.ticket.getNumber6() + '">' +
            '<br>'
        document.getElementById("show").innerHTML += show;
    }

    function showResult() {
        let result = [11, 22, 33, 44, 55, 66];
        resultArr.push(result);
        let show = '<input id="number1" value="' + result[0] + '">\n' +
            '<input id="number2" value="' + result[1] + '">\n' +
            '<input id="number3" value="' + result[2] + '">\n' +
            '<input id="number4" value="' + result[3] + '">\n' +
            '<input id="number5" value="' + result[4] + '">\n' +
            '<input id="number6" value="' + result[5] + '">' +
            '<br>'
        document.getElementById("showResult").innerHTML = show;

        if (result[5] == ticket.getNumber6() && result[4] == ticket.getNumber5() && result[3] == ticket.getNumber4()
            && result[2] == ticket.getNumber3() && result[1] == ticket.getNumber2() && result[0] == ticket.getNumber1()) {
            alert("Giải nhất");
        } else if (result[5] == ticket.getNumber6() && result[4] == ticket.getNumber5() && result[3] == ticket.getNumber4()
            && result[2] == ticket.getNumber3() && result[1] == ticket.getNumber2()) {
            alert("Giải nhất");
        } else if ((result[5] == ticket.getNumber6() && result[4] == ticket.getNumber5() && result[3] == ticket.getNumber4())
            || (result[5] == ticket.getNumber6() && result[4] == ticket.getNumber5() && result[3] == ticket.getNumber4() && result[2] == ticket.getNumber3())) {
            alert("Giải khuyến khích");
        }
    }
</script>
</html>